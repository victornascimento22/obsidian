![[Pasted image 20250129083103.png]]

O protocolo [[Websocket]] usa HTTP para o handshake inicial. Você pode estar se perguntando por quê? O motivo é porque isso permite que o WebSocket use a infraestrutura HTTP existente, como proxies, autenticação e assim por diante, sem a necessidade de novos intermediários. O protocolo Websocket usa porta para conexões não criptografadas e porta para conexões criptografadas. Ele usa o esquema para conexões não criptografadas e para conexões criptografadas.`80``443``ws``wss`

Depois que o handshake inicial entre o cliente e o servidor é estabelecido, a conexão HTTP é convertida em uma conexão
### O que são WebSockets e quais são suas vantagens em relação ao HTTP tradicional?[](https://golangbot.com/go-websocket-server/#what-are-websockets-and-what-are-their-advantages-over-traditional-http)

HTTP é simplesmente um protocolo de resposta de solicitação. Isso significa que um cliente, como um navegador da Web, envia uma solicitação e o O servidor trabalha nessa solicitação e envia uma resposta. Essa solicitação e resposta usa uma conexão TCP por baixo. Depois que a resposta é recebida, a conexão [[TCP]] é fechada e não pode ser reutilizada. O cliente precisa iniciar uma nova conexão TCP se quiser fazer uma nova solicitação.

[[HTTP]] é half duplex, o que significa que apenas uma entidade pode enviar dados por vez. O cliente pode enviar uma solicitação em uma conexão TCP e somente depois que o cliente terminar de enviar a solicitação, o servidor poderá enviar uma resposta na mesma conexão.

O protocolo HTTP resistiu ao teste do tempo e é amplamente utilizado até hoje. Mas, à medida que a tecnologia amadureceu, o HTTP não conseguiu acompanhar as demandas dos aplicativos em tempo real. Aplicativos em tempo real, como bate-papo na web (facebook messenger), feed de notícias do Twitter e notificações push para smartphones, exigiam que o cliente fosse atualizado com dados do servidor quase em tempo real. Isso pode ser feito em HTTP fazendo com que o cliente pesquise o servidor em intervalos regulares. Esse método significaria que a largura de banda é desperdiçada. O servidor também será inundado com solicitações, mesmo quando não tem novas atualizações para um cliente desperdiçando recursos do servidor, como CPU, memória e largura de banda. Para resolver esses problemas, o protocolo WebSocket foi introduzido.

O protocolo Web Socket fornece comunicação bidirecional em uma única conexão TCP. A mesma conexão TCP pode ser usada para enviar e receber ao mesmo tempo. A conexão TCP é mantida aberta e pode ser usada pelo cliente ou pelo servidor até que seja fechada por qualquer uma das partes. Isso permite que aplicativos em tempo real, como bate-papo e feed de notícias, sejam facilmente implementados usando o WebSocket. Sempre que houver um novo tweet na linha do tempo do usuário, o servidor pode simplesmente enviar esse tweet para o cliente em vez de o cliente pesquisar em intervalos regulares.